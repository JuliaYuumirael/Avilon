<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RCD Fancy Room 4 - Game Room</title>

  <!-- Rat (CSS) -->
  <link rel="stylesheet" href="rat_gaming.css">

  <!-- Shared styles -->
  <link rel="stylesheet" href="../rat_shared_styles.css">
</head>
<body>
<div class="room-container" id="game-room">
  <!-- Performance Settings Panel -->
  <div class="performance-panel">
    <h4>⚡ Performance</h4>
    <div class="perf-controls">
      <label class="perf-label">
        Quality:
        <select id="quality-select">
          <option value="low">🍎 Mac Friendly</option>
          <option value="medium" selected>⚖️ Balanced</option>
          <option value="high">🚀 Full Power</option>
        </select>
      </label>
      <div class="fps-counter">FPS: <span id="fps-display">60</span></div>
    </div>
  </div>

  <!-- Game Area -->
  <div class="game-container">
    <canvas id="game-canvas"></canvas>

    <!-- Game HUD Overlay -->
    <div class="game-hud">
      <!-- Score and Stats -->
      <div class="hud-section score-section">
        <div class="score-display">
          <span class="score-label">🏆 Score:</span>
          <span class="score-value" id="game-score">0</span>
        </div>
        <div class="level-display">
          <span class="level-label">📊 Level:</span>
          <span class="level-value" id="game-level">1</span>
        </div>
      </div>

      <!-- Rat Colony Status -->
      <div class="hud-section colony-section">
        <h4>🐀 Colony Status</h4>
        <div class="colony-stats">
          <div class="stat-item">
            <span class="stat-icon">🐭</span>
            <span class="stat-value" id="rat-count">5</span>
          </div>
          <div class="stat-item">
            <span class="stat-icon">💝</span>
            <span class="stat-value" id="happiness">85%</span>
          </div>
          <div class="stat-item">
            <span class="stat-icon">⚡</span>
            <span class="stat-value" id="energy">70%</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- CSS Food Inventory -->
  <div class="food-panel">
    <h3>🍽️ CSS Food Inventory</h3>
    <div class="food-categories">
      <!-- Colors -->
      <div class="food-category">
        <h4 class="category-title">🎨 Colors</h4>
        <div class="food-items">
          <div class="food-item" data-food="color" data-value="red">
            <div class="food-icon" style="background: #ff6b6b;"></div>
            <span class="food-name">Red</span>
            <span class="food-count" id="food-red">3</span>
          </div>
          <div class="food-item" data-food="color" data-value="blue">
            <div class="food-icon" style="background: #4ecdc4;"></div>
            <span class="food-name">Blue</span>
            <span class="food-count" id="food-blue">5</span>
          </div>
          <div class="food-item" data-food="color" data-value="green">
            <div class="food-icon" style="background: #96ceb4;"></div>
            <span class="food-name">Green</span>
            <span class="food-count" id="food-green">2</span>
          </div>
        </div>
      </div>

      <!-- Animations -->
      <div class="food-category">
        <h4 class="category-title">🎭 Animations</h4>
        <div class="food-items">
          <div class="food-item" data-food="animation" data-value="bounce">
            <div class="food-icon anim-bounce">🔄</div>
            <span class="food-name">Bounce</span>
            <span class="food-count" id="food-bounce">2</span>
          </div>
          <div class="food-item" data-food="animation" data-value="spin">
            <div class="food-icon anim-spin">⭕</div>
            <span class="food-name">Spin</span>
            <span class="food-count" id="food-spin">4</span>
          </div>
          <div class="food-item" data-food="animation" data-value="glow">
            <div class="food-icon anim-glow">✨</div>
            <span class="food-name">Glow</span>
            <span class="food-count" id="food-glow">1</span>
          </div>
        </div>
      </div>

      <!-- Effects -->
      <div class="food-category">
        <h4 class="category-title">⚡ Effects</h4>
        <div class="food-items">
          <div class="food-item" data-food="effect" data-value="shadow">
            <div class="food-icon effect-shadow">🌑</div>
            <span class="food-name">Shadow</span>
            <span class="food-count" id="food-shadow">3</span>
          </div>
          <div class="food-item" data-food="effect" data-value="blur">
            <div class="food-icon effect-blur">🌫️</div>
            <span class="food-name">Blur</span>
            <span class="food-count" id="food-blur">2</span>
          </div>
          <div class="food-item" data-food="effect" data-value="scale">
            <div class="food-icon effect-scale">📏</div>
            <span class="food-name">Scale</span>
            <span class="food-count" id="food-scale">4</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Active Feeding -->
    <div class="feeding-section">
      <div class="selected-food">
        <span>Selected: </span>
        <span id="selected-food">None</span>
      </div>
      <button id="feed-rats" class="feed-button" disabled>
        🍽️ Feed Rats
      </button>
    </div>
  </div>

  <!-- Achievements Panel -->
  <div class="achievements-panel">
    <h3>🏆 Achievements</h3>
    <div class="achievement-list" id="achievements">
      <div class="achievement locked" data-achievement="first-feed">
        <div class="achievement-icon">🥇</div>
        <div class="achievement-info">
          <div class="achievement-name">First Feeding</div>
          <div class="achievement-desc">Feed your first rat</div>
        </div>
      </div>
      <div class="achievement locked" data-achievement="colorful-colony">
        <div class="achievement-icon">🌈</div>
        <div class="achievement-info">
          <div class="achievement-name">Colorful Colony</div>
          <div class="achievement-desc">Use all color types</div>
        </div>
      </div>
      <div class="achievement locked" data-achievement="animation-master">
        <div class="achievement-icon">🎭</div>
        <div class="achievement-info">
          <div class="achievement-name">Animation Master</div>
          <div class="achievement-desc">Apply 10 animations</div>
        </div>
      </div>
      <div class="achievement locked" data-achievement="happy-colony">
        <div class="achievement-icon">😊</div>
        <div class="achievement-info">
          <div class="achievement-name">Happy Colony</div>
          <div class="achievement-desc">Reach 100% happiness</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Game Controls -->
  <div class="game-controls">
    <button id="pause-game" class="control-btn">⏸️ Pause</button>
    <button id="reset-game" class="control-btn">🔄 Reset</button>
    <button id="toggle-sound" class="control-btn">🔊 Sound</button>
    <button id="auto-feed" class="control-btn">🤖 Auto Feed</button>
  </div>

  <!-- Instructions -->
  <div class="instructions-panel">
    <h3>📖 How to Play</h3>
    <ul class="instruction-list">
      <li>🎯 <strong>Goal:</strong> Create the most beautiful rat colony by feeding them CSS properties</li>
      <li>🍽️ <strong>Feeding:</strong> Select CSS food and click "Feed Rats" to apply effects</li>
      <li>🐀 <strong>Evolution:</strong> Well-fed rats become more colorful and animated</li>
      <li>🏆 <strong>Scoring:</strong> Earn points for happy rats and unlock achievements</li>
      <li>⚡ <strong>Performance:</strong> Adjust quality settings if experiencing lag</li>
    </ul>
  </div>

  <!-- Navigation back to living room -->
  <nav class="room-nav">
    <a href="../dog_living_room.html" class="nav-link">← Back to Living Room</a>
  </nav>
</div>

<!-- Jungle libraries -->
<!-- Removed Phaser and Howler - using pure Canvas instead -->

<!-- Cat (JavaScript) -->
<script src="cat_game_controller.js"></script>
</body>
</html>